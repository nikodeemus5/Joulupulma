<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joulun Pelastusoperaatio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="image-preload-buffer"></div>
    <div id="game-container">
        <h1>ğŸ… Joulun Pelastusoperaatio ğŸ„</h1>

        <div id="puzzle-1" class="puzzle-section active">
            <h2>OSA 1: Kutsu</h2>
            <p>TeidÃ¤t on kutsuttu Korvatunturille. Pukki on kadonnut ja joulu on vaarassa peruutua!</p>
            <p>Saavutte kirjeessÃ¤ mainittuun osoitteeseen pukin pajalle lumimyrskyn keskellÃ¤. EdessÃ¤nne on suuri ovi.</p>
            <p>Ovi on tiukasti lukossa. Oven ylÃ¤puolella on vanha, lumen peittÃ¤mÃ¤ kyltti, jossa lukee:</p>
            
            <div class="clue-box">
                <p style="text-align: center; font-size: 1.5em; border: 2px dashed #999; padding: 10px;">
                    JOULUPUKIN PAJA<br>
                    <span style="font-size: 0.7em;">TÃ¤htikuja 1627</span>
                </p>
            </div>
            
            <div class="instruction-note">
            EnsimmÃ¤inen + Seuraava...<br>...Viimeinen + EnsimmÃ¤inen<br>
            </div>
            
            <p>Napauta numeroita sormella (tai hiirellÃ¤), niin ne pyÃ¶rivÃ¤t eteenpÃ¤in.</p>

            <div id="cryptex-1" class="cryptex-container"></div>
            
            <div class="input-group">
                <button onclick="checkAnswer(1)">Avaa lukko</button>
            </div>
            <p id="p1-feedback" class="feedback-text"></p>

        </div>

<div id="puzzle-2" class="puzzle-section hidden">
            <h2>OSA 2: Porojen Karsina</h2>
            <p>Ovi aukeaa! Huoneessa porot juoksevat villeinÃ¤. Sinun tÃ¤ytyy rauhoittaa ne asettamalla ne oikeaan vetojÃ¤rjestykseen valjaiden vÃ¤rien mukaan.</p>
            
            <div class="clue-row">
                <div class="clue-card">
                    <strong>Porojen Valjaat:</strong><br>
                    ğŸŸ  Oranssi (Tilkku)<br>
                    ğŸŸ¢ VihreÃ¤ (Pyry)<br>
                    ğŸ”´ Punainen (Petteri)<br>
                    ğŸ”µ Sininen (KipinÃ¤)<br>
                    ğŸŸ¡ Keltainen (Sipsu)<br>
                    ğŸŸ£ Violetti (Ailu)<br>
                </div>
                <div class="instruction-note">
                ğŸŒˆ
                </div>
            </div>
            
            <p style="margin-top: 20px;">VedÃ¤ ja pudota porojen nimet oikeisiin kohtiin</p>
            
            <div id="drop-zone-2" class="drop-zone">
                <div class="drop-target" data-correct-name="PETTERI">1.</div>
                <div class="drop-target" data-correct-name="TILKKU">2.</div>
                <div class="drop-target" data-correct-name="SIPSU">3.</div>
                <div class="drop-target" data-correct-name="PYRY">4.</div>
                <div class="drop-target" data-correct-name="KIPINA">5.</div>
                <div class="drop-target" data-correct-name="AILU">6.</div>
            </div>

            <div id="drag-elements-2" class="drag-elements-container">
                <div class="draggable" draggable="true" data-name="TILKKU">Tilkku</div>
                <div class="draggable" draggable="true" data-name="PYRY">Pyry</div>
                <div class="draggable" draggable="true" data-name="PETTERI">Petteri</div>
                <div class="draggable" draggable="true" data-name="KIPINA">KipinÃ¤</div>
                <div class="draggable" draggable="true" data-name="SIPSU">Sipsu</div>
                <div class="draggable" draggable="true" data-name="AILU">Ailu</div>
            </div>
            
            <div class="input-group">
                <button onclick="checkAnswer(2)">Tarkista PorojÃ¤rjestys</button>
            </div>
            <p id="p2-feedback" class="feedback-text"></p>
        </div>

        <div id="puzzle-3" class="puzzle-section hidden">
            <h2>OSA 3: Salaluukku</h2>
            <p>Porot rauhoittuvat ja huomaatte niiden heinien alla lattialuukun. Luukussa on matemaattisia symboleja.</p>
            <div class="instruction-note">
                <p>ğŸ„ x ğŸ + â­ = 19</p>
                <p>â›„ + â­ = 13</p>
                <p>ğŸ„ x â›„ = 16</p>
                <p>ğŸ - ğŸ„ = 5</p>

                <p>ğŸ„ğŸâ­â›„</p>
            </div>

            <div class="input-group">
                <input type="text" id="p3-input" placeholder="Vastaus">
                <button onclick="checkAnswer(3)">Avaa luukku</button>
            </div>
            <p id="p3-feedback" class="feedback-text"></p>
        </div>

        <div id="puzzle-4" class="puzzle-section hidden">
            <h2>OSA 4: Kellari</h2>
            <p>Saatte luukun auki ja huomaatte rappuset kellariin. Saavuttuanne kellariin nÃ¤ette seinÃ¤llÃ¤ kartan sokkeloista ja tajuatte sen olevan kellarin pohjapiirrustus. Kellari on aika pimeÃ¤ ja sokkeloinen ja teidÃ¤n tÃ¤ytyy kÃ¤yttÃ¤Ã¤ kartaltalÃ¶ytyviÃ¤ symboleja avuksenne suunnistuksessa.</p>

            <div style="text-align: center; margin: 20px 0;">
                <img src="Kellari.png" alt="Kellarin sokkelokartta, joka nÃ¤yttÃ¤Ã¤ nuolten reitin" class="puzzle-image">
            </div>

            <div class="instruction-note">
            ğŸ”´ = Olet tÃ¤ssÃ¤. <br>
            KÃ¤Ã¤nny "?" kohdalla pÃ¤Ã¤stÃ¤ksesi kellarin perÃ¤llÃ¤ olevaan huoneeseen
            </div>

            <div id="cryptex-4" class="cryptex-container"></div>
            
            <div class="input-group">
                <button onclick="checkAnswer(4)">Tarkista reitti</button>
            </div>
            <p id="p4-feedback" class="feedback-text"></p>
        </div>

        <div id="puzzle-5" class="puzzle-section hidden">
            <h2>OSA 5: Pukin TyÃ¶huone</h2>
            <p>Selviydyitte sokkelosta! Olette nyt upeassa tyÃ¶huoneessa, jossa on suuri mahonkipÃ¶ytÃ¤. PÃ¶ydÃ¤llÃ¤ on salkku.</p>
            <p>Salkun lukossa on neljÃ¤ numeroa. Muistelette, mikÃ¤ pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤ on pukeille kaikista tÃ¤rkein...</p>

            <div class="instruction-note">
                " **** "
            </div>

            <div id="cryptex-5" class="cryptex-container"></div>
            
            <div class="input-group">
                <button onclick="checkAnswer(5)">Avaa salkku</button>
            </div>
            <p id="p5-feedback" class="feedback-text"></p>
        </div>

        <div id="puzzle-6" class="puzzle-section hidden">
            <h2>OSA 6: Salkun Salalokero</h2>
            <p>Salkku aukeaa! SisÃ¤llÃ¤ on pienempi, monimutkainen lukko, jossa on Pukin salainen aakkosjÃ¤rjestys. LÃ¶ysitte lisÃ¤ksi lapun salkusta, jossa on vihje koodiin.</p>

            <div class="instruction-note">
                YksinÃ¤inen tonttu nÃ¤ki kolme poroa.<br>
                Sitten hÃ¤n tapasi kuusi muuta tonttua.<br>
                Matkalla he lÃ¶ysivÃ¤t seitsemÃ¤n suklaapalaa.<br>
                He jakoivat ne kuudelle tontulle.<br>
                A = 0
            </div>

            <div id="cryptex-6" class="cryptex-container"></div>
            
            <div class="input-group">
                <button onclick="checkAnswer(6)">Avaa lokero</button>
            </div>
            <p id="p6-feedback" class="feedback-text"></p>
        </div>

        <div id="puzzle-7" class="puzzle-section hidden">
            <h2>OSA 7: Salainen Viesti</h2>
            <p>Salalokero aukeaa! SisÃ¤ltÃ¤ lÃ¶ytyy Pukin kirjoittama lappu, mutta viesti on kirjoitettu salakielellÃ¤.</p>

            <div class="instruction-note">
                N Z J P Z O Z Q J Z<br>
                <br>
                E -> I, U -> Y, Ã„ -> C...
            </div>

            <p>MissÃ¤ Pukki on?</p>

            <div class="input-group">
                <input type="text" id="p7-input" placeholder="Paikka">
                <button onclick="checkAnswer(7)">Pelasta Joulu!</button>
            </div>
            <p id="p7-feedback" class="feedback-text"></p>
        </div>

        <div id="congratulations" class="puzzle-section hidden">
            <h2>ğŸ… JOULU ON PELASTETTU! ğŸ</h2>
            <p style="font-size: 1.2em; color: #00ff00;">LÃ¶ysitte Pukin Rantasaunalta!</p>
            <p>Pukki oli unohtunut lÃ¶ylyihin ja menettÃ¤nyt ajantajun. Kiitos teidÃ¤n, lahjat saadaan jaettua ajoissa!</p>
        </div>

    </div>

    <script src="game.js"></script>
</body>
</html>